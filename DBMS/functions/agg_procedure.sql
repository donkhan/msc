create or replace procedure a(inout max int,inout min int,inout total int,inout avg double) begin declare t integer default 0; declare counter int default  0; declare finished integer default 0; declare cur cursor for select salary from coach;  declare continue handler for not found set finished = 1; open cur; fetch cur into t; if finished != 1 then set max = t; set min = t; set total = t; set counter = counter + 1; end if; lo : LOOP fetch cur into t; if finished = 1 then leave lo;end if; set total = total + t; set counter = counter + 1; if t > max then set max = t; end if; if t < min then set min = t; end if; end LOOP lo; close cur; if counter <> 0 then set avg = total / counter; end if; end |
